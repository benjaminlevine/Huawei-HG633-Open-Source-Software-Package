  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
  
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta name="Keywords" content="FMPP, preprocessor, FreeMarker, template, templates, HTML, HTML template, HTML templates, text, macro, macros, text preprocessor, HTML preprocessor, static HTML, HTML generator, static HTML generator, Java, free, open source, open-source, pp hash">
      <title>FMPP - The pp Hash</title>
    <style type="text/css">
      P {font-family: Arial, sans-serif}
      UL {font-family: Arial, sans-serif}
      LI {font-family: Arial, sans-serif}
      TH {font-family: Arial, sans-serif}
      TD {font-family: Arial, sans-serif}
      H1 {font-family: Arial, sans-serif}
      H2 {font-family: Arial, sans-serif}
      H3 {font-family: Arial, sans-serif}
      H4 {font-family: Arial, sans-serif}
      A.toc{color: #0000CC; text-decoration:none}
      A.toc:hover{text-decoration: underline}
      A.toc:visited{color: #800080}
      A.s{color: #30D000}
      A.s:visited{color: #30D000}
      TT {font-size: 1em; font-family: "Courier New", monospace}
      CODE {font-size: 1em; font-family: "Courier New", monospace}
    </style>
  </head>

  <body background="img/background.png" bgcolor="#FFFFFF" text="#000000" style="font-family: Arial, sans-serif">
    <table border=0 cellspacing=0 cellpadding=0 width="100%">
      <tr>
          <td valign="middle" align="left">
	    <h1 style="font-family: Arial, sans-serif"><font color="#000000">The pp Hash</font></h1>
        <td valign="middle" align="right">&nbsp;&nbsp;
        <td valign="middle" align="right">
&nbsp;<br>&nbsp;&nbsp;<a href="configfile.html"><img alt="Prev" src="img/prev.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="dataloader.html"><img alt="Next" src="img/next.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="manual.html"><img alt="Contents" src="img/contents.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="index.html"><img alt="Home" src="img/home.png" border="0" width="39" height="44"></a><br>&nbsp;  <tr><td colspan=3 height=1 bgcolor="#000000"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td colspan=3 height=1 bgcolor="#808080"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td colspan=3 height=1 bgcolor="#C0C0C0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td colspan=3 height=1 bgcolor="#E0E0E0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td colspan=3 height=1 bgcolor="#F0F0F0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
    </table>

    <p><font color="#000000"><b>Page contents</b></font>
  <ul>
    <li><a href="#sect1" class=toc>Information about the source</a></li>
    <li><a href="#sect9" class=toc>Information about the output</a></li>
    <li><a href="#sect17" class=toc>Changing the output file</a></li>
    <li><a href="#sect24" class=toc>Utilities for paths</a></li>
    <li><a href="#sect33" class=toc>Utilities for files</a></li>
    <li><a href="#sect43" class=toc>Writable hashes and sequences</a></li>
    <li><a href="#sect51" class=toc>Miscellaneous</a></li>
  </ul>
        <p><b>Alphabetical index of keys:</b></p>
        <ul>
          <li><a href="#key_add" class=toc>add</a>
          <li><a href="#key_changeOutputFile" class=toc>changeOutputFile</a>
          <li><a href="#key_clear" class=toc>clear</a>
          <li><a href="#key_copyWritable" class=toc>copyWritable</a>
          <li><a href="#key_doc" class=toc>doc</a>
          <li><a href="#key_dropOutputFile" class=toc>dropOutputFile</a>
          <li><a href="#key_freemarkerVersion" class=toc>freemarkerVersion</a>
          <li><a href="#key_home" class=toc>home</a>
          <li><a href="#key_ignoreOutput" class=toc>ignoreOutput</a>
          <li><a href="#key_loadData" class=toc>loadData</a>
          <li><a href="#key_locale" class=toc>locale</a>
          <li><a href="#key_nestOutputFile" class=toc>nestOutputFile</a>
          <li><a href="#key_newWritableHash" class=toc>newWritableHash</a>
          <li><a href="#key_newWritableSequence" class=toc>newWritableSequence</a>
          <li><a href="#key_now" class=toc>now</a>
          <li><a href="#key_outputDirectory" class=toc>outputDirectory</a>
          <li><a href="#key_outputEncoding" class=toc>outputEncoding</a>
          <li><a href="#key_outputFile" class=toc>outputFile</a>
          <li><a href="#key_outputFileExists" class=toc>outputFileExists</a>
          <li><a href="#key_outputFileLastModified" class=toc>outputFileLastModified</a>
          <li><a href="#key_outputFileName" class=toc>outputFileName</a>
          <li><a href="#key_outputFileSize" class=toc>outputFileSize</a>
          <li><a href="#key_outputRoot" class=toc>outputRoot</a>
          <li><a href="#key_outputRootRelativePath" class=toc>outputRootRelativePath</a>
          <li><a href="#key_pathTo" class=toc>pathTo</a>
          <li><a href="#key_realFileExists" class=toc>realFileExists</a>
          <li><a href="#key_realFileLastModified" class=toc>realFileLastModified</a>
          <li><a href="#key_realFileSize" class=toc>realFileSize</a>
          <li><a href="#key_realOutput" class=toc>realOutput</a>
          <li><a href="#key_realOutputDirectory" class=toc>realOutputDirectory</a>
          <li><a href="#key_realSource" class=toc>realSource</a>
          <li><a href="#key_realSourceDirectory" class=toc>realSourceDirectory</a>
          <li><a href="#key_remove" class=toc>remove</a>
          <li><a href="#key_renameOutputFile" class=toc>renameOutputFile</a>
          <li><a href="#key_restartOutputFile" class=toc>restartOutputFile</a>
          <li><a href="#key_s" class=toc>s</a>
          <li><a href="#key_sessionStart" class=toc>sessionStart</a>
          <li><a href="#key_set" class=toc>set</a>
          <li><a href="#key_setOutputEncoding" class=toc>setOutputEncoding</a>
          <li><a href="#key_slash" class=toc>slash</a>
          <li><a href="#key_sourceDirectory" class=toc>sourceDirectory</a>
          <li><a href="#key_sourceEncoding" class=toc>sourceEncoding</a>
          <li><a href="#key_sourceFile" class=toc>sourceFile</a>
          <li><a href="#key_sourceFileExists" class=toc>sourceFileExists</a>
          <li><a href="#key_sourceFileLastModified" class=toc>sourceFileLastModified</a>
          <li><a href="#key_sourceFileName" class=toc>sourceFileName</a>
          <li><a href="#key_sourceFileSize" class=toc>sourceFileSize</a>
          <li><a href="#key_sourcePathTo" class=toc>sourcePathTo</a>
          <li><a href="#key_sourceRoot" class=toc>sourceRoot</a>
          <li><a href="#key_sourceRootRelativePath" class=toc>sourceRootRelativePath</a>
          <li><a href="#key_urlEnc" class=toc>urlEnc</a>
          <li><a href="#key_urlPathEnc" class=toc>urlPathEnc</a>
          <li><a href="#key_version" class=toc>version</a>
          <li><a href="#key_warning" class=toc>warning</a>
        </ul>
    <p>
    <table border=0 cellspacing=0 cellpadding=0 width="100%">
  <tr><td  height=1 bgcolor="#000000"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#808080"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#C0C0C0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#E0E0E0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#F0F0F0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
    </table>
      
<p>The pp hash is a variable that is always present in the data model. This contains the built-in, standard variables of FMPP.</p>

<p><i><b>Note:</b> For more information about variable types, directives, etc. in general, please read the <a href="freemarker/index.html">FreeMarker Manual</a>.</i></p>

<a name="sect1"></a>
     <h2><font color="#000000">Information about the source</font></h2>

<a name="key_sourceFile"></a>
<a name="sect2"></a>
     <h3><font color="#000000">sourceFile</font></h3>
    <i>Type:</i> string
    <p>The path of the current source file (includes the file name), relatively to the source root directory. It does not start with slash. Uses UN*X path format.</p>



<a name="key_sourceDirectory"></a>
<a name="sect3"></a>
     <h3><font color="#000000">sourceDirectory</font></h3>
    <i>Type:</i> string
    <p>The path of the directory of the current source file, relatively to the source root directory. It is finished with a slash, except if the directory is the source root directory itself, in which case the result is an empty (0 length) string. The result never starts with slash. Uses UN*X path format.</p>


<a name="key_sourceFileName"></a>
<a name="sect4"></a>
     <h3><font color="#000000">sourceFileName</font></h3>
    <i>Type:</i> string
    <p>The filename of the current source file.</p>


<a name="key_sourceEncoding"></a>
<a name="sect5"></a>
     <h3><font color="#000000">sourceEncoding</font></h3>
    <i>Type:</i> string
    <p>The encoding (charset) of the source file, e.g. <code><font color="#017D01">ISO-8859-1</font></code>. It is always a concrete charset name, never <code><font color="#017D01">host</font></code>.</p>


<a name="key_sourceRoot"></a>
<a name="sect6"></a>
     <h3><font color="#000000">sourceRoot</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the source root directory, finished with a "native slash" (i.e. maybe a backslash). As it is a real path, it uses the native path format.</p>


<a name="key_realSource"></a>
<a name="sect7"></a>
     <h3><font color="#000000">realSource</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the current source file. As it is a real path, it uses the native path format.</p>


<a name="key_realSourceDirectory"></a>
<a name="sect8"></a>
     <h3><font color="#000000">realSourceDirectory</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the directory of the current source file, finished with a "native slash" (i.e. maybe a backslash). As it is a real path, it uses the native path format.</p>




<a name="sect9"></a>
     <h2><font color="#000000">Information about the output</font></h2>

<p>Note that as the output file name and directory, and the output encoding can be changed during the execution of template, the value of these variables can change during the execution of the template, to reflect the current situation.</p>

<a name="key_outputFile"></a>
<a name="sect10"></a>
     <h3><font color="#000000">outputFile</font></h3>
    <i>Type:</i> string
    <p>The path of the current output file (includes the file name), relatively to the output root directory. It does not start with slash. Uses UN*X path format.</p>


<a name="key_outputDirectory"></a>
<a name="sect11"></a>
     <h3><font color="#000000">outputDirectory</font></h3>
    <i>Type:</i> string
    <p>The path of the directory of the current output file, relatively to the output root directory. It is finished with a slash, except if the directory is the output root directory itself, in which case the result is an empty (0 length) string. The result never starts with slash. Uses UN*X path format.</p>


<a name="key_outputFileName"></a>
<a name="sect12"></a>
     <h3><font color="#000000">outputFileName</font></h3>
    <i>Type:</i> string
    <p>The filename of the current output file.</p>


<a name="key_outputEncoding"></a>
<a name="sect13"></a>
     <h3><font color="#000000">outputEncoding</font></h3>
    <i>Type:</i> string
    <p>The encoding (charset) of the output file, e.g. <code><font color="#017D01">ISO-8859-1</font></code>. It is always a concrete charset name, never <code><font color="#017D01">host</font></code> or <code><font color="#017D01">source</font></code>.</p>


<a name="key_outputRoot"></a>
<a name="sect14"></a>
     <h3><font color="#000000">outputRoot</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the output root directory, finished with a "native slash" (i.e. maybe a backslash). As it is a real path, it uses the native path format.</p>


<a name="key_realOutput"></a>
<a name="sect15"></a>
     <h3><font color="#000000">realOutput</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the current output file. As it is a real path, it uses the native path format.</p>


<a name="key_realOutputDirectory"></a>
<a name="sect16"></a>
     <h3><font color="#000000">realOutputDirectory</font></h3>
    <i>Type:</i> string
    <p>The absolute real path of the directory of the current output file, finished with a "native slash" (i.e. maybe a backslash). As it is a real path, it uses the native path format.</p>




<a name="sect17"></a>
     <h2><font color="#000000">Changing the output file</font></h2>

<a name="key_changeOutputFile"></a>
<a name="sect18"></a>
     <h3><font color="#000000">changeOutputFile</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>name</b>:
                string.
	                The new <a href="overview.html#virtualPath">virtual path</a> of the output file. The path can point into a different directory than the directory of the current output file.    

              <li><b>append</b>=false:
                boolean.
	                If this is true, then if a file with the same name as the name of the new output file already exists, it will be continued, rather then overwritten.  If the file does not already exist, then this parameter has no effect.

	        </ul>
      
  <p>Closes the current output file, and starts a new output file with the new name. All further output goes into the new file. If the name of the new output file is the same as the current output file, then nothing happens.</p>
  
  <p>A word of warning: Don't forget that the path that you specifiy is interpreted relatively to the <b>current</b> output file. So using a relative path like <code><font color="#017D01">products/${productName}.html</font></code> ( instead of an absolute path like <code><font color="#017D01">/shop/products/${productName}.html</font></code>) inside a loop is most certainly not what you want, because then 2nd product will go into the <code><font color="#017D01">/shop/products/products/${productName}.html</font></code> directory, the 3rd into <code><font color="#017D01">/shop/products/products/products/${productName}.html</font></code>, and so on. Of course this problem doesn't occur if the relative path is just a file name, like <code><font color="#017D01">${productName}.html</font></code>.</p>


<a name="key_renameOutputFile"></a>
<a name="sect19"></a>
     <h3><font color="#000000">renameOutputFile</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>name</b>:
                string.
	                The new <a href="overview.html#virtualPath">virtual path</a> of the output file. The path can point into a different directory than the directory of the current output file.

              <li><b>extension</b>:
                string.
	                Replaces the extension (the part after the last dot in the file name) of the current output file, with the value of this parameter. If the file name has no extension (there is no dot in it), then a dot and the new extension is added to the end of the file name. (The parameter value should never contain the starting dot.)

	        </ul>
      
  <p>Changes the name of the current output file, or moves the output file if neccessary. If a file with the same name already exists, this will overwrite that file without warning. If the new name is the same as the name of the current output file, then nothing happens.</p>
  
  <p>Either the <code><font color="#017D01">name</font></code> or the <code><font color="#017D01">extension</font></code> parameter must be specified. You can't use both together.


<a name="key_dropOutputFile"></a>
<a name="sect20"></a>
     <h3><font color="#000000">dropOutputFile</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
    	  none
      <p>Deletes the current output file, and drops all further output that would go into this file. Call this directive at the beginning of templates that need to be processed, but you don't want any output files from them. (Of course, you can call this directive even at the end of the template, just that's slower...)</p>
  <p>Note that this directive can be neutralized with directive <code><font color="#017D01">pp.restartOutputFile</font></code>.</p>


<a name="key_restartOutputFile"></a>
<a name="sect21"></a>
     <h3><font color="#000000">restartOutputFile</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
    	  none
      <p>Empties the current output file (but doesn't delete the file). The next character sent to the output will be the first character of the output file. Also, the charset of the output file can be safely set, exactly like if you were at the beginning of the output file creation.</p>
  <p>Note that this directive neutralizes the effect of directive <code><font color="#017D01">pp.dropOutputFile</font></code>.</p>


<a name="key_nestOutputFile"></a>
<a name="sect22"></a>
     <h3><font color="#000000">nestOutputFile</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> yes
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>name</b>:
                string.
	                The new <a href="overview.html#virtualPath">virtual path</a> (includes the file name) of the output file. The path can point into a different directory than the directory of the current output file.    

              <li><b>append</b>=false:
                boolean.
	                If this is true, then if a file with the same name as the name of the new output file already exists, it will be continued, rather then overwritten. If the file does not already exist, then this parameter has no effect.

	        </ul>
    
  <p>This is similar to <code><font color="#017D01">changeOutputFile</font></code>, but it writes only the content generated in its nested content into the new file, and then it restores things, so the output will go into the same output file as before the calling of the directive. For example:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">The 1st line of the original file.
&lt;@pp.nestOutputFile name=&quot;new.txt&quot;&gt;
  The 1st line of new.txt.
&lt;/@pp.nestOutputFile&gt;
The 2nd line of the original file.
&lt;@pp.nestOutputFile name=&quot;new.txt&quot; append=true&gt;
  The 2nd line of new.txt.
&lt;/@pp.nestOutputFile&gt;
The 3rd line of the original file.<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>A file can be nested into itself. For example:</p>
  
<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;@pp.nestOutputFile name='1.txt'&gt;
  The 1st line of 1.txt
  &lt;@pp.nestOutputFile name='2.txt'&gt;
    The 1st line of 2.txt
    &lt;@pp.nestOutputFile name='1.txt'&gt;
      The 2nd line of 1.txt
    &lt;/@pp.nestOutputFile&gt;
    The 2nd line of 2.txt
  &lt;/@pp.nestOutputFile&gt;
  The 3rd line of 1.txt
&lt;/@pp.nestOutputFile&gt;  <span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>Note that <code><font color="#017D01">append=true</font></code> was not needed for adding the 2nd line to the <code><font color="#017D01">1.txt</font></code>, since the directive just switched back to the already opened <code><font color="#017D01">1.txt</font></code>.</p>
  


<a name="key_setOutputEncoding"></a>
<a name="sect23"></a>
     <h3><font color="#000000">setOutputEncoding</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>encoding</b>:
                string.
	                The name of the charset, e.g. <code><font color="#017D01">ISO-8859-2</font></code>. It understands the special values <code><font color="#017D01">source</font></code> and <code><font color="#017D01">host</font></code>.     

	        </ul>
      
  <p>Sets the encoding of the output. This will die with error if the output file is already partially written to the disk. Thus, if you want to change the output encoding, do it as early as possible. FMPP buffers the output for the output file in the memory until the buffer size reaches 160 characters, but after that it starts to flush the buffer to the disk. Also, directives that change the current output file may flush the buffer. When you start a new file (say, with <code><font color="#017D01">changeOutputFile</font></code>), it starts a new buffer in the memory, so you can set the encoding of the new file.</p>




<a name="sect24"></a>
     <h2><font color="#000000">Utilities for paths</font></h2>

<a name="key_pathTo"></a>
<a name="sect25"></a>
     <h3><font color="#000000">pathTo</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>destination</b>: string.
	                The <a href="overview.html#virtualPath">virtual path</a> in the output file system to the destination file or directory. The destination file or directory need not exist. 

            </ol>
      
  <p>This method returns the relative virtual path that leads from the directory of the current output file, to the destination file or directory. For example, if you want to create a link that points to <code><font color="#017D01"><i>&lt;outputroot></i>/products/index.html</font></code>, then you can write:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;a href=&quot;${pp.pathTo('/products/index.html')}&quot;&gt;Product index&lt;/a&gt;<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
  <p>and the link will always point to that file, does not mater where the file that contains the above link is.</p>

  <p>The returned path never starts with <code><font color="#017D01">/</font></code>; it is always a relative path.</p>
  
  <p>If the destination path is finished with slash, then, and only then, the resulting path will be also finished with slash, except if the only character in the result would be that slash, in which case the result will be an empty (0 length) string instead.</p>



<a name="key_home"></a>
<a name="sect26"></a>
     <h3><font color="#000000">home</font></h3>
    <i>Type:</i> string
      <p>Same as what <code><font color="#017D01">pp.pathTo('/')</font></code> would return. That is, the virtual path to the output root directory, from the current output file. It is finished with a slash, except if the current output file is directly in the output root directory, in which case the result is an empty (0 length) string. The result never starts with slash. So the possible values are something like: <code><font color="#017D01">../../</font></code></p>
  
  <p>Example: The <code><font color="#017D01">src</font></code> will always point to the file in the <code><font color="#017D01">img</font></code> directory of the output root, does not mater if you move the HTML file in the directory hierarchy:</p>
  
<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;img src=&quot;${pp.home}img/logo.jpg&quot; alt=&quot;Logo&quot;&gt;<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>

<a name="key_outputRootRelativePath"></a>
<a name="sect27"></a>
     <h3><font color="#000000">outputRootRelativePath</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	                 The <a href="overview.html#virtualPath">virtual output path</a> to convert. The output file pointed by the path need not exist.

            </ol>
      <p>Converts a virtual output path to a virtual output path that is relative to the output root directory. The resulting path will not start with slash.</p>


<a name="key_sourceRootRelativePath"></a>
<a name="sect28"></a>
     <h3><font color="#000000">sourceRootRelativePath</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	                Same as the parameter of <a href="#key_outputRootRelativePath">outputRootRelativePath</a>, but it uses the the source file system.

            </ol>
      <p>Same as <a href="#key_outputRootRelativePath">outputRootRelativePath</a>, but it uses the source root directory and the current source file respectively.</p>


<a name="key_sourcePathTo"></a>
<a name="sect29"></a>
     <h3><font color="#000000">sourcePathTo</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>destination</b>: string.
	                Same as the parameter of <a href="#key_pathTo">pathTo</a>, but it uses the source file system.

            </ol>
      <p>Same as <a href="#key_pathTo">pathTo</a>, but it uses the source root directory and the current source file respectively.</p>


<a name="key_slash"></a>
<a name="sect30"></a>
     <h3><font color="#000000">slash</font></h3>
    <i>Type:</i> string
      <p>The platform dependent slash character used in native paths. This will be backslash (<code><font color="#017D01">\</font></code>) on Windows.</p>


<a name="key_urlEnc"></a>
<a name="sect31"></a>
     <h3><font color="#000000">urlEnc</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>string to encode</b>: string.
	                The string to encode.

            </ol>
      
  <p><b>Deprecated:</b> use the <code><font color="#017D01">url</font></code> built-in of FreeMarker instead. For example: <code><font color="#017D01">${"a+b/c"?url}</font></code>.</p>
  
  <p>Encodes a string with URL encoding. For example the result of <code><font color="#017D01">pp.urlEnc("a+b/c")</font></code> will be <code><font color="#017D01">a%2Bb%2Fc</font></code>, if the output charset is an US-ASCII based charset.</p>


<a name="key_urlPathEnc"></a>
<a name="sect32"></a>
     <h3><font color="#000000">urlPathEnc</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> string
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>string to encode</b>: string.
	                The string to encode.

            </ol>
    
  <p>Same as FreeMarker's <code><font color="#017D01">url</font></code> built-in (<code><font color="#017D01">?url</font></code>), except that it does not encode slash characters. For example the result of <code><font color="#017D01">pp.urlPathEnc("new&nbsp;products/bálna.html")</font></code> will be <code><font color="#017D01">new%20products/b%E1lna.html</font></code>, if the output charset is ISO-8859-1.</p>




<a name="sect33"></a>
     <h2><font color="#000000">Utilities for files</font></h2>

<a name="key_sourceFileSize"></a>
<a name="sect34"></a>
     <h3><font color="#000000">sourceFileSize</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> number
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the source file system.

            </ol>
    
<p>Returns the size of the file in bytes. If the file does not exist, it returns 0.</p>


<a name="key_sourceFileLastModified"></a>
<a name="sect35"></a>
     <h3><font color="#000000">sourceFileLastModified</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> date (date+time)
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the source file system.

            </ol>
    
<p>Tells the last modification date+time of file. If the file does not exist, it raises an error.</p>


<a name="key_sourceFileExists"></a>
<a name="sect36"></a>
     <h3><font color="#000000">sourceFileExists</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> boolean
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the source file system.

            </ol>
    
<p>Tells if the file exists or not.</p>


<a name="key_outputFileSize"></a>
<a name="sect37"></a>
     <h3><font color="#000000">outputFileSize</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> number
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the output file system.

            </ol>
    
<p>Returns the size of the file in bytes. If the file does not exist, it returns 0.</p>


<a name="key_outputFileLastModified"></a>
<a name="sect38"></a>
     <h3><font color="#000000">outputFileLastModified</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> date (date+time)
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the output file system.

            </ol>
    
<p>Tells the last modification date+time of file. If the file does not exist, it raises an error.</p>


<a name="key_outputFileExists"></a>
<a name="sect39"></a>
     <h3><font color="#000000">outputFileExists</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> boolean
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The <a href="overview.html#virtualPath">virtual path</a> of the file in the output file system.

            </ol>
    
<p>Tells if the file exists or not.</p>


<a name="key_realFileSize"></a>
<a name="sect40"></a>
     <h3><font color="#000000">realFileSize</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> number
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The real path (native path) of the file. The file can be outside all root directories. FMPP passes the resolving of relative paths to the host OS, so it is not defined by FMPP what the end result will be. In general, it is better to use absolute paths here.<br>
  <b>Windows users:</b> According to the syntactical rules of FTL, you must use double backslashes in string literals: <code><font color="#017D01">"C:\\work\\foo\\bar.txt"</font></code>, or use raw strings: <code><font color="#017D01">r"C:\work\foo\bar.txt"</font></code>. Also, according to the Windows API rules, you can simply use slash: <code><font color="#017D01">"C:/work/foo/bar.txt"</font></code>, which is probably the best solution.

            </ol>
    
<p>Returns the size of the file in bytes. If the file does not exist, it returns 0.</p>


<a name="key_realFileLastModified"></a>
<a name="sect41"></a>
     <h3><font color="#000000">realFileLastModified</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> date (date+time)
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The real path (native path) of the file.  The rules are the same as with <a href="#key_realFileSize">realFileSize</a>. 

            </ol>
    
<p>Tells the last modification date+time of file. If the file does not exist, it raises an error.</p>


<a name="key_realFileExists"></a>
<a name="sect42"></a>
     <h3><font color="#000000">realFileExists</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> boolean
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>file path</b>: string.
	              The real path (native path) of the file.  The rules are the same as with <a href="#key_realFileSize">realFileSize</a>. 

            </ol>
    
<p>Tells if the file exists or not.</p>





<a name="sect43"></a>
     <h2><font color="#000000">Writable hashes and sequences</font></h2>

<p>Writable sequences and hashes are an FMPP specific extension to FreeMarker, as FreeMarker does not support the modification of sequences and hashes. (This has good reasons in the on-the-fly dynamic page generation segment that FreeMarker mostly targets, but it can be a problem in extreme FreeMarker applications as FMPP.) To read the variables of these sequences and hashes, you can use the same expressions as with plain sequences and hashes. But, to modify the contents of them, you have to use the directives described below, since predefined directives as <code><font color="#017D01">&lt;#assign <i>...</i>></font></code> can't modify subvariables. Unfortunately, sequence addition, sub-sequence operator (like <code><font color="#017D01">seq[5..10]</font></code>) and <code><font color="#017D01">?reverse</font></code> do not copy the original sequence, just wraps it (for efficiency), so the resulting sequence will change if the original sequence is changed later (this is basically an abnormal aliasing effect). The same problem exists with the result of hash addition; it just wraps the two hashes, so the resulting hash will magically change if you modify the hashes you have added earlier. As a work-around, after you did the above problematic operations, either be sure you will not modify the objects that were used as input, or create a copy of the result like: <code><font color="#017D01">&lt;#assign b = pp.newWritableSequence(a[5..10])></font></code> and <code><font color="#017D01">&lt;#assign c = pp.newWritableHash(hashA + hashB)></font></code>). Of course this is easy to miss... so rather try to build the data model so you will not need to modify collections. Keeping templates simple and moving complex calculations out to custom <a href="dataloader.html">data loaders</a> or BeanShell scripts (see the <code><font color="#017D01">bsh</font></code> function of <code><a href="settings.html#key_localData" class=s><font color="#20C000">localData</font></a></code> <a href="settings.html#data">here...</a>) is advisable anyway.</p>

<p>Note that only the sequences that were made with the <a href="#key_newWritableSequence"><code><font color="#017D01">newWritableSequence</font></code> method</a> are writable. Also, only the hashes that were made with the <a href="#key_newWritableHash"><code><font color="#017D01">newWritableHash</font></code> method</a> are writable. You can't modify plain sequences or hashes with the below directives.</p>

<p>Also note that writable sequences and hashes suffer from the effect called aliasing (that most programmers will find natural). This effect, explained with an example, looks like this:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;#assign a = pp.newWritableSequence()&gt;
&lt;@pp.add seq=a value=&quot;red&quot; /&gt;
&lt;#assign b = a&gt;
&lt;@pp.add seq=b value=&quot;green&quot; /&gt;
a: &lt;#list a as i&gt;${i} &lt;/#list&gt;
b: &lt;#list b as i&gt;${i} &lt;/#list&gt;<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>Here the output will be:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">a: red green
b: red green<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>That is, FreeMarker variables just store a reference (pointer) to the sequence or hash, not the sequence or hash itself. So both <code><font color="#017D01">a</font></code> and <code><font color="#017D01">b</font></code> points to the same single sequence object, which floats somewhere in the memory. This fact becomes significant because you modify that object, otherwise you wouldn't notice it. To create individual copies, use <a href="#key_newWritableSequence"><code><font color="#017D01">newWritableSequence</font></code></a> or <a href="#key_newWritableHash"><code><font color="#017D01">newWritableHash</font></code></a>, for example:.</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;#assign a = pp.newWritableSequence()&gt;
&lt;@pp.add seq=a value=&quot;red&quot; /&gt;
&lt;#assign b = pp.newWritableSequence(a)&gt;
&lt;@pp.add seq=b value=&quot;green&quot; /&gt;
a: &lt;#list a as i&gt;${i} &lt;/#list&gt;
b: &lt;#list b as i&gt;${i} &lt;/#list&gt;<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>Here <code><font color="#017D01">b</font></code> is a new sequence whose initial content is the same as the content of <code><font color="#017D01">a</font></code>. Thus, the output will be:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">a: red
b: red green<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<a name="key_newWritableSequence"></a>
<a name="sect44"></a>
     <h3><font color="#000000">newWritableSequence</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> writable sequence
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>initial content</b>: sequence, optional.
	            
            </ol>
    <p>Creates a new empty writable sequence. However, if called with parameter then adds the items in the parameter sequence to this new sequence (known as "shallow copy" among programmers). Example:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;#assign a = pp.newWritableSequence()&gt;
&lt;#assign b = pp.newWritableSequence(['red', 'green', 'blue'])&gt;
${a?size}
${b?size}<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>The output will be:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">0
3<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>


<a name="key_newWritableHash"></a>
<a name="sect45"></a>
     <h3><font color="#000000">newWritableHash</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> writable hash
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>initial content</b>: hash, optional.
	            
            </ol>
    <p>Creates a new empty writable hash. However, if called with parameter then adds the items in the parameter hash to this new hash (known as "shallow copy" among programmers). Example:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;#assign a = pp.newWritableHash()&gt;
&lt;#assign b = pp.newWritableHash({'red':'FE0000', 'green':'10F000', 'blue':'0007FF'})&gt;
${a?size}
${b?size}<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
<p>The output will be:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">0
3<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>

<a name="key_copyWritable"></a>
<a name="sect46"></a>
     <h3><font color="#000000">copyWritable</font></h3>
      <b><i>Deprecated:</i></b> Use <a href="#key_newWritableSequence"><code><font color="#017D01">newWritableSequence</font></code></a> and <a href="#key_newWritableHash"><code><font color="#017D01">newWritableHash</font></code></a> instead.<br> 
    <i>Type:</i> method
          <br><i>Result type:</i> writable hash or writable sequence
    	<br><i>Parameters:</i>
    	  none
    <p>Copies a writable hash or sequence. (It is used to prevent aliasing effect. The result is a "shallow copy" of the original hash or sequence.)</p>


<a name="key_add"></a>
<a name="sect47"></a>
     <h3><font color="#000000">add</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>seq</b>:
                writable sequence.
	            The sequence to modify.
              <li><b>index</b>=seq?size:
                number.
	            The index where you want to insert the subvariable into the sequence.  The index of the first subvariable is 0.
              <li><b>value</b>:
                any.
	            The new value of the subvariable.
	        </ul>
      
  
  

  <p>Inserts a new subvariable into the sequence, at the specified index. Shifts the subvariable currently at that position (if any) and any subsequent subvariables to the right (adds one to their indices). If you do not use the <code><font color="#017D01">index</font></code> parameter, or if its value is 1 higher than the index of the last subvariable, then it appends the new subvariable at the end of the sequence.</p>


<a name="key_set"></a>
<a name="sect48"></a>
     <h3><font color="#000000">set</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>seq</b>:
                writable sequence.
	            The sequence to modify.
              <li><b>index</b>:
                number.
	            The index of subvariable to set. The index of the first subvariable is 0.
              <li><b>hash</b>:
                writable hash.
	            The hash to modify.
              <li><b>key</b>:
                string.
	            The name of the subvariable that you want to add to the hash, or that you want to replace.
              <li><b>value</b>:
                any.
	            The value of the new subvariable.
	        </ul>
      
  
  
  
  
  
  <p>This can be used for two purposes, depending on if you use the <code><font color="#017D01">seq</font></code> or the <code><font color="#017D01">hash</font></code> parameter:</p>
  <ul>
    <li>For sequences: Sets an already existing subvariable of the sequence or hash. The index must be the index of an existing subvariable, or an error will occur.
    
    <li>For hashes: Adds a new subvariable to the hash with the name specified with the <code><font color="#017D01">key</font></code> parameter, or replaces the subvariable with the same name if that already exists.
  </ul>



<a name="key_remove"></a>
<a name="sect49"></a>
     <h3><font color="#000000">remove</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>seq</b>:
                writable sequence.
	            The sequence to modify.
              <li><b>index</b>:
                number.
	            The index of the subvariable to remove.
              <li><b>hash</b>:
                writable hash.
	            The hash to modify.
              <li><b>key</b>:
                string.
	            The name of the subvariable that you want to remove from the hash.
	        </ul>
      
  
  
  
  
  <p>This can be used for two purposes, depending on if you use the <code><font color="#017D01">seq</font></code> or the <code><font color="#017D01">hash</font></code> parameter:</p>
  <ul>
    <li>For sequences: Removes the subvariable on the specified index, and shifts any subsequent subvariables to the left (subtracts one from their indices). The <code><font color="#017D01">index</font></code> must denote an existing subvariable, or an error will be raised.
    
    <li>For hashes: Removes the subvariable with the name specified with the <code><font color="#017D01">key</font></code> parameter, or does nothing if no such subvariable exists.
  </ul>


<a name="key_clear"></a>
<a name="sect50"></a>
     <h3><font color="#000000">clear</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>seq</b>:
                writable sequence.
	            The sequence to clear.
              <li><b>hash</b>:
                writable hash.
	            The hash to clear.
	        </ul>
      
  
  
  <p>Removes all subvariables of the sequence or hash.</p>




<a name="sect51"></a>
     <h2><font color="#000000">Miscellaneous</font></h2>

<a name="key_warning"></a>
<a name="sect52"></a>
     <h3><font color="#000000">warning</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> no
    	<br><i>Parameters:</i>
	        <ul>
              <li><b>message</b>:
                string.
	            The warning message.
	        </ul>
      
  
  <p>Issues a warning message. It depends on the concrete front-end in use and the settings, but usually the message will be displayed on the screen and/or will be added to the log file. The processing will not stop if you issue a warning. To stop processing with error message you should use <code><font color="#017D01">&lt;#stop "<i>message</i>"></font></code>.</p>


<a name="key_ignoreOutput"></a>
<a name="sect53"></a>
     <h3><font color="#000000">ignoreOutput</font></h3>
    <i>Type:</i> directive
          <br><i>Supports nested content:</i> yes
    	<br><i>Parameters:</i>
    	  none
      <p>All text generated inside the nested content of this directive will be thrown away.</p>


<a name="key_locale"></a>
<a name="sect54"></a>
     <h3><font color="#000000">locale</font></h3>
    <i>Type:</i> string
      <p>The currently used locale in the usual format. For example: <code><font color="#017D01">ar_SA</font></code>, <code><font color="#017D01">ar_IQ</font></code>, <code><font color="#017D01">en_US</font></code>, <code><font color="#017D01">en_UK</font></code>, <code><font color="#017D01">es_ES</font></code>, ...etc.


<a name="key_loadData"></a>
<a name="loadData"></a>
     <h3><font color="#000000">loadData</font></h3>
    <i>Type:</i> method
          <br><i>Result type:</i> any
    	<br><i>Parameters:</i>
	        <ol>
	          <li><b>loader name</b>: string.
	                The name of the data loader.

	          <li><b>arguments...</b>: any.
	                The arguments to the data loader. These are 0 or more arguments.

            </ol>
      
  <p>Loads data using <a href="dataloader.html">data loaders</a>, and returns the loaded data as the result of the method call. For example this:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">&lt;#assign foo = pp.loadData('csv', 'foo.txt', {'separator':',', 'encoding':'UTF-8'})&gt;<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
  <p>does something similar as when you use the below in an FMPP configuration file:</p>

<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">data: {foo:csv(foo.txt, {separator:',', encoding:UTF-8})}<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>
  <p>The difference is that with the <code><font color="#017D01">pp.loadData</font></code>, you load the data on demand, and into a temporary variable that will be available only for a single template processing.</p>
  
  <p>The <code><font color="#017D01">get</font></code> data loader can't be invoked with this method.


<a name="key_now"></a>
<a name="sect56"></a>
     <h3><font color="#000000">now</font></h3>
    <i>Type:</i> date (date+time)
      <p>Returns the current date and time.</p>
  
  <p>For example this:</p>
  
<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">Current date and time: ${pp.now}
Current time: ${pp.now?time}
Current date: ${pp.now?date}
Current day of week: ${pp.now?string(&quot;EEEE&quot;)}
&lt;#setting datetime_format=&quot;yyyy-MM-dd HH:mm:ss zzzz&quot;&gt;
Current date and time: ${pp.now}<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>  
  <p>will output something like this:</p>
  
<div align="left"><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td><table bgcolor="#FFFFFF" cellspacing="0" cellpadding="4" border="0" width="100%" style="margin: 0px"><tr><td><pre style="margin: 0px">Current date and time: Apr 12, 2003 5:28:50 PM
Current time: 5:28:50 PM
Current date: Apr 12, 2003
Current day of week: Saturday  
Current date and time: 2003-04-12 17:28:50 Central European Summer Time<span style="font-size: 1pt"> </span></pre></td></tr></table></td><td width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr><tr valign="top"><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td><td height="1" width="1" bgcolor="black"><img src="img/none.gif" width="1" height="1" alt="" hspace="0" vspace="0" border="0"></td></tr></table></div>  
  <p>For more information about using date/time values, please read the <a href="freemarker/index.html">FreeMarker Manual</a>.</p> 


<a name="key_sessionStart"></a>
<a name="sect57"></a>
     <h3><font color="#000000">sessionStart</font></h3>
    <i>Type:</i> date (date+time)
      <p>Returns the date and time of the processing session starting.</p>


<a name="key_s"></a>
<a name="sect58"></a>
     <h3><font color="#000000">s</font></h3>
    <i>Type:</i> writable hash
      <p>Stands for "shared". This is a writable hash that keeps its content during the whole processing session. That is, if you add a subvariable to it during the execution of a template, then that subvariable will be visible for all templates processed later in the same session. An example of the usage of <code><font color="#017D01">pp.s</font></code> can be found in <code><font color="#017D01"><i>&lt;FMPP></i>/docs/examples/session</font></code></p>


<a name="key_doc"></a>
<a name="sect59"></a>
     <h3><font color="#000000">doc</font></h3>
    <i>Type:</i> node
      <p>This variable exists only while an XML file is processed in <code><font color="#017D01">renderXml</font></code> processing mode (see the documentation of the <code><a href="settings.html#key_modes" class=s><font color="#20C000">modes</font></a></code> setting). This variable stores the source file (the XML file) as a node variable that corresponds to the W3C DOM document object.</p>
  
  <p>An example that uses <code><font color="#017D01">renderXml</font></code> processing mode and <code><font color="#017D01">pp.doc</font></code> is <code><font color="#017D01"><i>&lt;FMPP></i>/docs/examples/xml_rendering</font></code></p>


<a name="key_version"></a>
<a name="sect60"></a>
     <h3><font color="#000000">version</font></h3>
    <i>Type:</i> string
      <p>This is the version number of the FMPP engine.</p>


<a name="key_freemarkerVersion"></a>
<a name="sect61"></a>
     <h3><font color="#000000">freemarkerVersion</font></h3>
    <i>Type:</i> string
      <p>This is the version number of the FreeMarker the FMPP engine currently uses.</p>





    
    <p>
    <table border=0 cellspacing=0 cellpadding=0 width="100%">
  <tr><td  height=1 bgcolor="#000000"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#808080"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#C0C0C0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#E0E0E0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
  <tr><td  height=1 bgcolor="#F0F0F0"><img src="img/none.gif" width=1 height=1 alt=""></td></tr>
    </table>
    <table border=0 cellspacing=4 cellpadding=0 width="100%">
      <tr>
        <td valign="top" align="right">
          <table border=0 cellspacing=0 cellpadding=0 width="100%">
            <tr>
              <td align="left" valign="top"><a href="configfile.html"><img alt="Prev" src="img/prev.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="dataloader.html"><img alt="Next" src="img/next.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="manual.html"><img alt="Contents" src="img/contents.png" border="0" width="44" height="44"></a>&nbsp;&nbsp;<a href="index.html"><img alt="Home" src="img/home.png" border="0" width="39" height="44"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="reportbug.html"><img alt="Report bug" src="img/reportbug.png" border="0" width="90" height="40"></a>&nbsp;&nbsp;</td>
              <td align="right" valign="top">
                <i>
                  Generated&nbsp;on&nbsp;Mar 15, 2009 06:17 PM GMT<br>
                  For&nbsp;FMPP&nbsp;version&nbsp;0.9.14
                </i>
              </td>
            </tr>
          </table>
        </td>
      <tr>
<td valign="middle" align="right"><a href="http://sourceforge.net"><img alt="SourceForge Logo" src="img/sflogo.png" border="0" width="88" height="31"></a>&nbsp;&nbsp;<a href="http://freemarker.org"><img alt="Powered by FreeMarker" src="img/poweredby_sq_simple.png" border="0" width="88" height="31"></a></td>      </tr>
    </table>
  </body>
  </html>
